function startstop(){flagclock==0?($("#startstopbutton").val("Stop Timer"),flagclock=1,startTimer(),$("#update").attr("disabled",!0),$("#update").show(),$("#update").val("Currently Timing..."),$("#clock").css("background","white")):($("#startstopbutton").val("Continue Timer"),flagclock=0,flagstop=1,pauseTimer(),clock.value!="0:00"?($("#update").attr("disabled",!1),$("#update").addClass("adminactions"),$("#update").val("Update Task Time"),$("#timesend").val(decimalTime()),$("#changetagbox").show()):$("#update").val("No Time Logged."))}function buildTime(e){return minutes=e.getMinutes(),seconds=e.getSeconds(),hours=e.getHours(),minutes<10&&(minutes="0"+minutes),seconds<10&&(seconds="0"+seconds),hours+":"+minutes}function decimalTime(){return clockvalue=$("#clock").val(),timearray=clockvalue.split(":"),minutes=timearray[1]/60,hours=timearray[0]/1,timeeng=hours+minutes,timeeng}function startTimer(){function e(){time.setSeconds(time.getSeconds()+1),$("#clock").val(buildTime(time))}typeof time!="object"&&(time=new Date,time.setHours(0),time.setSeconds(0),time.setMinutes(0),$("#clock").val(buildTime(time))),interval=setInterval(e,1e3)}function pauseTimer(){clearInterval(interval)}$(document).ready(function(){$("#update").hide(),$("#changetagbox").hide(),$("#clock").val(""),$("#clock").css("background","#ddd"),document.getElementById("update").onclick=function(){window.btn_clicked=!0},window.onbeforeunload=function(){if(!window.btn_clicked&&seconds)return"You have unsaved time tracked on this task. Don't forget to save!";if(window.btn_clicked&&$("#changetag").val()=="")return"Please enter a note about what you did on this task."}});var flagclock=0,flagstop=0,stoptime=0,updatebutton;